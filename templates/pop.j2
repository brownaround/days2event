{% extends "base.j2" %}
{% block title %}ğŸ¶ POP Music Festivals 2025 | Days2Event{% endblock %}
{% block description %}Explore the most popular pop music festivals worldwide! Countdown to Lollapalooza, Glastonbury, and more. All dates & official links here.{% endblock %}

{% block hero %}
<header class="hero">
  <h1>ğŸ¶ Top POP Festivals & Concerts 2025</h1>
  <p>Experience the worldâ€™s biggest pop music festivals, world tours from global icons to rising stars.</p>
  <p>Plan your next concert trip!</p>
</header>
{% endblock %}

{% block content %}
<div class="tabs artist-tabs">
  <button class="tab active" data-artist="All">All</button>
  {% for artist in unique_artists %}
    <button class="tab" data-artist="{{ artist }}">{{ artist }}</button>
  {% endfor %}
</div>
<div class="event-list">
  {% for event in events %}
    {% if event['Start Date'].date() >= now().date() %}
      <div class="card" data-artist="{{ event['Artist'] }}">
        <h2>{{ event['Event Name'] }}</h2>
        <div class="meta">
          {{ event['date_display'] }} ï½œ {{ event['City'] }} {{ event['country_emoji'] }}
        </div>
        <div style="margin: 1em 0;"></div>
        <div class="button-row">
          <button class="days-left-btn" onclick="showDaysLeft(this, {{ (event['Start Date'].date() - now().date()).days }})">â³ How many days left?</button>
        </div>
        <div class="button-row">
          {% if event['Official Site'] %}
            <a class="official-site-btn" href="{{ event['Official Site'] }}" target="_blank">Official Site</a>
          {% endif %}
        </div>
      </div>
    {% endif %}
  {% endfor %}
</div>
{% endblock %}

<script>
document.addEventListener('DOMContentLoaded', function() {
  const tabs = document.querySelectorAll('.artist-tabs .tab');
  const cards = document.querySelectorAll('.event-list .card');
  tabs.forEach(tab => {
    tab.addEventListener('click', function() {
      // íƒ­ í™œì„±í™” í‘œì‹œ
      tabs.forEach(t => t.classList.remove('active'));
      this.classList.add('active');
      // ë²„íŠ¼ì˜ ì•„í‹°ìŠ¤íŠ¸ ì´ë¦„ ì¶”ì¶œ (All í¬í•¨)
      const artist = this.textContent.trim();
      cards.forEach(card => {
        // All í´ë¦­ ì‹œ ëª¨ë‘ í‘œì‹œ, ì•„ë‹ˆë©´ í•´ë‹¹ ì•„í‹°ìŠ¤íŠ¸ë§Œ í‘œì‹œ
        if (artist === 'All' || card.getAttribute('data-artist') === artist) {
          card.style.display = '';
        } else {
          card.style.display = 'none';
        }
      });
    });
  });
});
</script>

