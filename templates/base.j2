<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>{% block title %}Days2Event â€“ Global Festival Countdown{% endblock %}</title>
  <meta name="description" content="{% block description %}Track the worldâ€™s biggest festivals, concerts, and raves. Countdown, lineup, and location info for every major music event!{% endblock %}">
  <link rel="stylesheet" href="style.css">
  {% block head %}{% endblock %}
</head>
<body>
  <nav class="navbar">
    <div class="nav-container">
      <a class="logo" href="index.html">ğŸŒ Days2Event</a>
      <ul class="nav-links" id="navLinks">
        <li><a href="index.html">ğŸ  Home</a></li>
        <li><a href="multi.html">âœ¨ Multi-Genre</a></li>
        <li><a href="edm.html">ğŸª© EDM</a></li>
        <li><a href="pop.html">ğŸ¶ POP</a></li>
        <li><a href="k-pop.html">ğŸ‡°ğŸ‡· K-POP</a></li>
        <li><a href="pride.html">ğŸ³ï¸â€ğŸŒˆ PRIDE</a></li>
        <li><a href="by-region.html">ğŸ“ By Region</a></li>
      </ul>
      <span class="hamburger" id="hamburger">&#9776;</span>
    </div>
  </nav>
  <main>
    {% block hero %}{% endblock %}
    {% block hero_browse_btn %}
    <div class="hero-browse-btn">
      <button type="button" onclick="scrollToEvents()">
        <span class="arrow">ğŸ‘‡ğŸ¼</span> Browse Events
      </button>
    </div>
    {% endblock %}
    {% block search %}
    <div class="hero-search">
      <input id="searchInput" onkeyup="filterCards()" placeholder="ğŸ” Search events..." type="text"/>
    </div>
    {% endblock %}
    {% block content %}{% endblock %}
  </main>
  <footer style="text-align:center; margin: 2rem 0 1.5rem 0; color:#aaa; font-size:.96rem;">
    &copy; 2025 Days2Event. All rights reserved.
  </footer>
  <script>
    // ë„¤ë¹„ê²Œì´ì…˜ ëª¨ë°”ì¼
    const hamburger = document.getElementById('hamburger');
    const navLinks = document.getElementById('navLinks');
    if (hamburger && navLinks) {
      hamburger.onclick = () => navLinks.classList.toggle('show');
      Array.from(navLinks.getElementsByTagName('a')).forEach(link => {
        link.onclick = () => navLinks.classList.remove('show');
      });
    }

    // Browse Events ë²„íŠ¼ ìŠ¤í¬ë¡¤
    function scrollToEvents() {
      const el = document.getElementById('events');
      if (el) el.scrollIntoView({behavior: "smooth"});
    }

    // ì¹´ë“œ ê²€ìƒ‰ í•„í„°ë§
    function filterCards() {
      let input = document.getElementById("searchInput");
      let filter = input.value.toLowerCase();
      let events = document.getElementById("events");
      let cards = events.getElementsByClassName("event-card");
      for (let card of cards) {
        let text = card.textContent || card.innerText;
        card.style.display = text.toLowerCase().indexOf(filter) > -1 ? "" : "none";
      }
    }

    // ì¹´ìš´íŠ¸ë‹¤ìš´(How many days left?)
    document.addEventListener('DOMContentLoaded', () => {
      document.querySelectorAll('.event-card').forEach(card => {
        let btn = card.querySelector('.reveal-btn');
        let countdown = card.querySelector('.countdown');
        if (btn && countdown) {
          btn.onclick = () => {
            btn.style.display = 'none';
            let dateStr = card.getAttribute('data-date');
            let eventDate = new Date(dateStr);
            let now = new Date();
            let diff = Math.floor((eventDate - now) / (1000 * 60 * 60 * 24));
            countdown.textContent = diff >= 0 ? `${diff} days left` : 'Event Passed';
            countdown.classList.remove('hidden');
          };
        }
      });
    });
  </script>
</body>
</html>